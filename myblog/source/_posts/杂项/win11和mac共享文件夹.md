## 局域网创建 Mac 和 Windows11 共享文件夹

## 需求分析

最近公司配了 win11 台式机，我主力机是 mac ，如何互相共享文件夹是个问题。

## 在 Mac 上配置共享文件夹

### 1. 创建用户

打开 `系统设置` 进入 `用户与群组` 选择 `添加用户` 模式为 `普通` 选项

### 2. 设置共享

打开 `系统设置` 搜索 `共享` 选择 `文件共享` 开启 `文件共享` 选项

并新建共享文件夹和设置其用户权限，然后打开 `选项`

勾选 ☑️ `使用SMB来共享文件和文件夹`，并设置指定用户（刚才新建的用户）启动 Windows 共享

完成以上 `共享` 相关配置后进入 `网络` 选择你上网的服务，这里我是 Wi-Fi 上网，所以进入 Wi-Fi 模块，点击已连接网络的右侧进入 `详细信息...` ，选择 `WINS` 检查工作组的信息是否跟你的 Windows 电脑的工作组一致（注：Windows 查看工作组只需进入 `设置` 中的系统信息进行查询即可，一般都是 `WORKGROUP`）

### 3.win11 连接

在此电脑右键，找到`映射网络驱动器` 填写文件夹

```
\\ip\用户名

比如：\\172.17.212.239\user
```

### 注意

1. 如果 mac 创建为仅共享，则无法连接，文件夹不知道该怎么配置。试了下几种配置方式，都提示密码错误。求解？
   这个情况有几个方式可以解决：

   > win + r 输入\\\ip 来链接

   或者

   > mac 的用户名下的目录，创建一个 share 这样的文件夹，映射网络驱动器的时候，精准输入到\\\172.17.212.239\share 这样，可以配置到这个文件夹

2. 如果你使用过 win + r 输入\\\ip 来链接过。可能会出现报错：网络文件夹目前是以其他用户名和密码进行映射………………
   这种情况打开 shell
   输入

   ```
   net use
   ```

   即可看到当前已建立的连接：
   然后我们输入命令：

   ```
   net use * /delete
   ```

   来结束所有的当前所有的连接。然后再输入命令： Y 来结束所有连接；
   重新配置即可。

3. 凭证如何修改或者删除。win11 系统搜索 windows 凭据，去修改编辑删除

## 在 Win11 上配置共享文件夹

新建共享文件夹到你想放置到地方（例如桌面），打开文件夹属性，进行以下操作
点击共享，选择用户，点击共享

接着点击 `高级共享` ,

### 尝试连接

`Command+K` 打开 `连接服务器` 输入 Win11 的 `ip` 地址（ip 地址可在设置的 Wifi 详细信息里查找或者打开终端输入 `ipconfig`查找）或者输入 `smb://ip`

### 注意点

- Win 的开机登录用户名不能是中文名（且不包含特殊字符）
- 如果无法连接则将 Windows 电脑关机重新，怀疑是配置信息需要重启生效
- 以上方案都无法解决则在 `连接服务器` 的 url 地址栏中输入 `ip地址\Win登录用户名`，无效，则关机重启

```

```
